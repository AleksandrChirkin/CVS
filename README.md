# CVS
Автор: Чиркин Александр(chirkin2001@list.ru)

## Описание
Данное приложение является реализацией базовых команд системы одновременных версий (Concurrent Versions System, CVS).
Позволяет хранить предыдущие версии файлов и, в случае необходимости, восстанавливать их.

## Требования
* Python версии не ниже 3.7

## Состав
* Точка входа: 'cvs/__main__.py'
* Команды: 'cvs/commands/#имя_команды'
* Репозиторий, где хранятся версии файлов, файлы ветвей (branches), ревизий (revisions) и разностей двух файлов (diffs),
 а также журнал коммитов('history.json'): 'repos/'. Изначально не имеется. Хранится в корне
* '.cvsignore' - файл, где хранится список файлов и директорий, которые не могут быть добавлены в репозиторий
* Тесты лежат в папке 'tests'
* Файл покрытия: '.coverage'

## Запуск
* 'python3 (-m) cvs [аргументы CVS] команда CVS [аргументы команды]'
* Для запуска тестов введите 'python3 -m pytest --tb=line --cov=. .' или 'pytest'

## Команды
* 'init' - создаёт репозиторий, если его нет
** 'init -r' - удаляет старый репозиторий и создает новый
* 'add' - добавляет файл в список на закрепление в репозиторий
* 'commit' - закрепление в репозиторий
* 'reset' - восстанавливает определенную версию файла из репозитория
* 'log' - выводит данные из журнала ревизии
* 'checkout' - приводит все файлы в директории в соответствие с ветвью
* 'tag' - закрепляет за ревизией дополнительную информацию
* 'branch' - выводит все ветви в репозитории
* 'status' - выводит текущую ветвь, ищет новые файлы и проверяет, изменились ли уже закрепленные

## Подробности реализации
При вызове команды с ключом '-h' или '--help' открывается справка по соответствующей команде.
В случае возникновения исключения, оно будет обработано при помощи CVSError (лежит в cvs/cvserror.py)
Покрытие тестами - 88%